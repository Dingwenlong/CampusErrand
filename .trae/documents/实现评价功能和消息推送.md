## 实现评价功能和消息推送计划（微信小程序兼容）

### 当前状态分析
- ✅ 后端评价功能已完成
- ✅ 后端消息推送WebSocket已完成
- ✅ 前端socket.js工具类已实现
- ⚠️ 需要创建前端评价页面
- ⚠️ 需要创建消息列表页面
- ⚠️ 需要在App.vue中初始化WebSocket
- ⚠️ 需要添加消息红点提示

### 微信小程序注意事项
1. WebSocket在小程序中需要使用 `uni.connectSocket`
2. 页面路径需要在pages.json中注册
3. 分包页面需要正确配置
4. 避免使用小程序不支持的DOM操作

### 实现计划

#### 1. 创建评价相关页面
- **评价提交页面** (`package-evaluation/pages/evaluation/submit.vue`)
  - 星级评分组件（兼容小程序）
  - 评价内容输入
  - 评价标签选择
  - 匿名评价开关
  
- **评价列表页面** (`package-evaluation/pages/evaluation/list.vue`)
  - 收到的评价列表
  - 发出的评价列表
  - 平均评分显示

#### 2. 创建消息相关页面
- **消息列表页面** (`pages/message/list.vue`)
  - 消息分类显示（系统通知、任务通知等）
  - 已读/未读状态标识
  - 一键已读功能
  - 下拉刷新、上拉加载

#### 3. 初始化WebSocket连接
- 在 `App.vue` 的 `onLaunch` 中初始化WebSocket
- 监听消息推送事件
- 处理连接断开重连

#### 4. 添加消息红点提示
- 在底部导航栏显示未读消息数量
- 在任务、订单页面监听状态变更

#### 5. 完善API封装
- `api/evaluation.js` - 评价相关接口
- `api/message.js` - 消息相关接口

#### 6. 更新pages.json
- 注册评价分包
- 注册评价页面
- 配置预加载规则

请确认此计划后，我将开始实现具体代码，确保所有功能在编译为微信小程序后可用。